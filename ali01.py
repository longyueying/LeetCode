def solve(N, M, map):
    pass